# 引子

想象一下有这么表格出现在你的眼前,

我告诉你这表格一出现就在当时迅速改变了人类的计算方式，

并且其背后蕴含的思想数学对象，在当今科学家的研究中如同自然数一样自然。

你会不会想要读懂这张表格？

这一切的一切都要追溯到17世纪的数学家纳皮尔，

他在那时候第1次创建了这一张对数表，

在此之前，人们计算大量乘除法需要耗费几天时间，

而纳皮尔的一张表改变了这一切。

你是否好奇这一个对数表背后的原理？它又是如何构造的呢？

我们今天将走入纳皮尔著作里的世界，实际看看他想法的来源和用处。

从而真正读懂这份表格。

# 作者和著作介绍
我们首先来认识一下纳皮尔和他的著作，

约翰·纳皮尔，（John Napier，1550年2月1日—1617年4月4日），

是苏格兰数学家、物理学家兼天文学家。

他的1614年的著作《奇妙的对数定理说明书》（The Description of the Wonderful Canon of Logarithms）

首次介绍了对数的定义性质，以及如何使用对数表。

由他儿子整理出版的1619年的著作《奇妙对数定律的构造》（The construction of the wonderful canon of logarithms）

是一本更技术性的著作，讲解了纳皮尔如何构造对数表的具体方法。

# 第一本著作
我们来看第一本著作的内容，《奇妙对数定理说明书》分为两册内容。

第一册（拉丁文原版）包含五十七页的解释内容和九十页的三角函数及其纳皮尔对数表

第二册讨论了三角学的应用。包括平面三角学和球面三角学。

我们将关注第一册的内容。

我阅读的版本是在数学网站十七世纪数学网

由 伊恩·布鲁斯(Ian Bruce) 翻译和注释的英文译本

感谢他无私的贡献和付出。谢谢

而这个对数表根据维基百科的资料，纳皮尔花费了20年的时间计算出来的。

这里面蕴含的内涵其实很简单，就是等比数列和等差数列之间的某种关系。

又或者更符合纳皮尔本人的思考方式来说，

就是匀速运动和等比例衰减运动的对应关系。

这是著作里关于匀速运动的定义和说明。

为了更加直观简洁的说明情况同时更规范使用字母，

我将使用manim动画来展示，代替讲解原文。

首先在空间上存在一个运动的点P

它在某一条直线上运动，初速度为v

我们规定的起点为A0，

由于速度不变，所以相同的时间间隔都是点P运动的距离相同的

那么在时间t内，点P从A0运动到A1，距离为v*t

在时间2t内，点P从A0运动到A2，距离为v*2t

在时间3t内，点P从A0运动到A3，距离为v*3t

随着点P的运动，直线线上有A0，A1 。。。。 An 等距的标记点

我们重点关注这些点等距离的特性。这种等距离的特性正是等差数列的性质。

这里的概念非常简单，相信每个人都能毫不费力理解

接下来我们来看著作里关于等比例衰减运动的定义和说明。

空间上的一个点Q，在一条线段CD上运动，线段总长是L

我们规定的起点为C，B0点就设置为C点，假设点Q运动到Bi点

点Q的运动规律在经过下一个单位时间后，将要运动的距离是Bi到端点D的距离的r倍

0<r<1

随着点Q的运动，线上有B0，B1 。。。。 Bn 标记点，这些点就不是等距离的了

但是满足

B0 到 B1的距离是B0 到 D距离的r倍

B1 到 B2的距离是B1 到 D距离的r倍

B2 到 B3的距离是B2 到 D距离的r倍

这种运动方式着实怪异

这种运动方式满足等比数列的性质。

相邻两个点B i B i+1的距离组成的数列，是等比数列

相同时间间隔的，运动的点Q到端点D的距离组成的数列，也是等比数列

B0 到 B1的距离根据定义是 r * L 

所以|B1D| = L(1 - r)

B1 到 B2的距离是根据定义等于 r|B1D| 等于 rL*(1-r)^1

而B2到D的距离应该是

|B2D| = |B1D| - r * |B1D| = L(1 - r)^2

B2 到 B3的距离根据定义是 r|B2D|等于 rL*(1-r)^2

而B3到D的距离应该是

|B3D| = |B2D| - r * |B2D| = L(1 - r)^3

以此类推，Bn 到 Bn+1的距离是 等于 rL*(1-r)^n

这是一个以rL为首项，以1-r为公比的等比数列。

以此类推，Bn 到 D的距离是 等于 L*(1-r)^n

这是一个以L为首项，以1-r为公比的等比数列。

在上述两种运动的基础上，我们可以介绍纳皮尔对数的定义了。

在上面我们介绍了两个点的两种运动方式，

一个很自然的想法是我们可以把每一种的运动的每一个点对应起来，

让匀速运动和等比例衰减运动这两种运动同步起来。

不过在纳皮尔的脑海中，不关注点的对应关系，如A0-B0对应，A1-B1对应，A2-B2对应。

而是线段长之间的一一对应关系。

假设，两个点P、Q，同步运动，此时分别运动到了Ai、Bi点

纳皮尔将Bi到线段端点D的距离，与A0到Ai的距离联系起来，一一对应起来。

并且称|A0Ai|就是长度|BiD|的对数。

我们这里简单的记录为：

Ai = Naplog(|BiD|)

这个定义，纳皮尔并没有给出具体的计算过程。

这里我们展示纳皮尔对数的英文译本中的定义。

在这个定义，两个看似风马牛不相及的东西联系到了一起

不过在随后的探索中，我们会发现，我们联系到一起的一对数，

竟然能够有如此多美妙的特性，从而帮了我们很大忙。

不过还是先让我们看看这个定义有哪些奇特的地方。

首先考虑两个点初始还未开始运动的情况，

此时，Ai = A0，Bi = B0，|A0A0| = 0，|B0D| = L

所以，Naplog(L) = 0

接下来我们考虑两个点开始运动的情况，

一个单位时间间隔后，点P运动到了A1，点Q运动到了B1

此时，|A0A1| = vt，|B1D| = L * (1 - r)

所以，Naplog(L * (1 - r)) = vt

以此类推，我们甚至可以考虑无穷大的时间后，

点Q运动到了点D，

而点P将会运动到无穷远处。

此时Naplog(0) = 无穷大

如果我们熟悉对数函数，我们会发现一些有趣的地方。

考虑(0,1)区间的ln(x)函数，

ln(x)在(0,1)区间是单调递增的，

并且ln(1) = 0，ln(0) = 负无穷大。

等比例衰减运动的线段总长L在Naplog函数的作用

跟单位1在ln(x)函数中的作用一样

这种对应关系，不是简单巧合，其实说明了

Naplog函数符合某种对数函数的形式

以上的说明结束后，现在

让我们用现代数学语言整理一下纳皮尔对数的定义

想法有受到数学长征网的一篇帖子启发，谢谢

先来看看等比例衰减运动，点Q在线段CD上运动，线段总长是L。

我们可以将等比例衰减运动看成自变量，匀速运动是因变量

设xn表示点Q运动到Bn点时，点Q和线段D的距离|QD|,这个距离同时是|BnD|，

n表示时间t

根据上面的讨论我们可以知道 xn = |BnD| = L * (1 - r)^n

上面的公式中，L,r是常数，n是与时间有关的变量。

于是我们考虑函数x(t) = L(1-r)^t

这个函数是指数函数，指数函数是初等函数中的一种。

两边求对数，得到

所以ln(x) = ln(1 - r) * t + ln(L)  式一

有因为两种运动是同步的，时间是一样的

那么我们设点P运动的距离为y

y = vt 推导可以得到 t = y/v

代入上式，可以得到

ln(x) - ln(L) = ln(1 - r) * y / v

整理可以得到 

y = ln(x/L) / ln(1 - r) * v = Naplog(x)

我们可以看到，纳皮尔所定义的对数，

与我们数学课本上所定义的对数，是等价的。

我们通过设置合适的三个参数(L, r, v)，可以使得Naplog函数就是对数函数ln(x)

我们将在下面讲讲纳皮尔选择的参数是什么，以及选择这些参数可能的原因是什么。

纳皮尔选择的参数，如果不花费些时间还真很难理解为什么。

以上就是《奇妙的对数定理说明书》第一章节里最重要最基础的思想内涵了。

也是对数诞生的基石，正是这些想法支撑了纳皮尔对数学的贡献


下面我们将简要的讲解第二章。现在让我们来看纳皮尔对数的性质

第二章以文本形式给出了一些用于处理比率的公式命题。

阅读这种文本形式的命题可真是要了我的老命

太难懂了。我这里先放出第二章第一个命题的英文原文（含命题与证明），

大家感受一下文本形式证明的命题是什么样的，

这里同样给出尝试读懂chatgpt给出的翻译，理解命题在说明什么情况？

这一个命题说的是，比例量的对数是等距的

让我们来解读一下这个命题。

假设有这么一个等比数列{an}，

为{a，aq， aq^2，....，aq^n}

这里的每一项前后都是成比例的

我们再假定选取了参数使得Naplog函数就是ln(x)函数。

利用对数函数的知识来解释就特别容易了。

令ln(a) = g，ln(q) = h

那么对数列取对数得到

{ln(an)}:{g，g+h，g+2h，....，g+nh} 

毫无疑问这是首项是g，公差是h的等差数列。等差数列自然前后两项等距。

也就是命题说的成比例的数，取对数之后是等距的。

而看纳皮尔对于这个命题的证明，则是借助了图形的说明

由于对数的定义中就是将等比数列一一对应到等差数列上。

从而从图的对应关系上证明是等距的

在第2章里都是这种以文本形式，证明有关对数的命题。

纳皮尔格外关注三个或者4个成比例的数，并且关注它们的对数之间的关系，

例如下面这一个命题。

命题：{a，ar， ar^2}三个数的对数{o，p，q}满足q = 2p - o

借助上面的介绍可以知道{o=g, p=g+h, q=g+2h}，可以很容易验证这个命题。

第2章的内容我们就介绍到这里了。

这些命题在当时纳皮尔看来，也许并没有那么直观

不过在现在数学符号支持下，我们可以很容易证明这些命题的内容。

第二章文章结尾有一条注释，指出他将推迟发表他关于构造对数的工作，

直到他看到他的发明被接受的程度为止。

不得不说这是一个遗憾，大家都很接受他所创造出来的对数。

但是他没有等到构造那一本书出版就已经与世长辞了。

无论如何，纳皮尔在这本说明书上的第3章还是详细的

介绍了他的表格的格式以及每一行没一列的具体含义。

感谢他的工作。

经过了漫长的准备时间，我们终于可以回到我们最开始准备的问题上了。

我们要读懂纳皮尔对数表。

说明书第二册是有关对数在三角学的应用，

也就是纳皮尔制作的表格

关注的是多少度多少分的角度，以及这个角度对应的正弦值正切值以及余弦值。

以及这些值所对应的对数

现在让我们回到纳皮尔对数定义的式子上。

y = Naplog(x) = ln(x/L) / ln(1 - r) * v

根据维基百科上的资料纳皮尔对数实际上是这个样子的

Naplog(x) = -10^(7) * ln(x / 10^7)

这是一个初看下令人相当费解的定义

实际上纳皮尔在这本说明书中,除了给定了线段长L为10的7次方之外。

并没有详细的说明其他两个参数选取了哪个。

再继续解读纳皮尔对数前，我们了解一下纳皮尔是怎么对待正弦值的

先说明一个有关小数点的数学史上的小趣闻，

在维基百科对数的历史的页面上，有这么一句话

“纳皮尔率先在数值计算中使用小数点，直到下个世纪才变得普遍。”

即使纳皮尔率先使用小数点，但是他也不喜欢操作小于一的小数。

所以一个简单的方法就是进行放大，乘以一个系数。

在角度θ从零度角变换到90度角的过程中。

正弦值sin(θ)从0变换到1，是一个小数。

纳皮尔为正弦值的放大选择了一个系数，系数为10^7

我并没有在资料上看到纳皮尔选择这个系数的原因，

也许是为了小数点后有7位有效数字，

总之，纳皮尔所说的正弦值与我们现代意义上的正弦值存在些许差异

具体差异如下。

Napsin(θ) = int(10^7 * sin(θ))

int()表示取整。以及所有角度都采用角度制，注意角度弧度的区别

举例来说，

Napsin(30度) = int(10^7 * sin(30度)) = 5 * 10^6 = 5，000，000

Napsin(0度1分) = int(10^7 * sin(0度1分)) = 2909

我们可以用python math库验证一下0度1分的值

可以发现两者是一致的。

根据我自己的理解，我认为纳皮尔是刻意将参数设置为了10的七次方。

下面是我的解释，可能有误，大家听个乐

要猜测纳皮尔的想法的话，还是需要去找到他那时候已经掌握的数学工具。

一张正弦表以及对于对数的认识。

在这本说明书上，纳皮尔所给出的所有的正弦值都有7位有效数字。

不清楚他是自己算的还是如何获得？

无论如何，有这么一本精度可以达到7位有效数字的正弦表

然后根据正弦表上的数字来决定选取什么样的参数，使得它的对数满足一些比较好的性质。

至少要达到的要求就是角度每变化一分，它正弦值的对数至少能移动一个单位。

在这种情况下对数才是一一对应的

了解正弦函数的都应该清楚，正弦函数在0到90度之间是单调递增的。

并且增加的速度随角度增大是减少的。所以越靠近90度，角度的每一分变化带来正弦值的差别越小

我这里有一份Python代码生成的表格，表格的内容关于89度到90度之间每一分的正弦值。

我们观察表格也可以确认确实是这样。

在0~90度的角度范围内。角度每变换一分，正弦值差别最小的值。

就是89度59分到90度之间

90度角自然不用说它的正弦值是1，它的纳皮尔正弦值是10的7次方。

89度59分，它的正弦值是0.9999999576，它的纳皮尔正弦值是9999999。

注意这里的取整并不是四舍五入。

纳皮尔希望的是能够区分这一分角度差所带来的正弦值上的差别

并且由此可以计算出的正弦值对数的至少有一个单位的差别。

剩下的角度上的每一分差别，所带来的纳皮尔正弦值的差别都将大于1个单位。

也许他正是观察到了这么一个现象。

所以他将参数设置为了10的7次方。

终于的终于。。。。。。。做了以上这么多的铺垫以后

要开始讲解纳皮尔对数表了，或者称为三角函数对数表。

我们直接讲对数表含义，就不去看英文原文或翻译

下面我们具体来讲讲开头给出的表格，每一个角度对应的表格都有七列六十一行。

我们需要看到是左上角的30这个数字，以及右下角59这个数字。

这个意味着这两张表的内容是关于30度角和59度角。

每页的第一列是以分为单位的角度增量，

第一列第一行，表示角度为30度0分，

第一列第二行，表示角度为30度1分，

第7列是每页右下角的度数值的分钟增量。

这种排列使得对于页面上的每一行，第 7 列表示的全角是第 1 列的余角 (90° – column_1)

第七列第一行，表示59度60分，也就是60度，也是30度的余角

第七列第二行，表示59度59分，也是30度1分的余角

第二列和第六列是相邻的角度的正弦值（下文自行判断是否是纳皮尔正弦）

第二列第一行，表示30度0分的正弦值，5000000(sin(30度)的10^7)

第六列第一行，表示59度60分（60度）的正弦值，8660254

第三列和第五列是相邻正弦值的纳皮尔对数值，

第三列第一行，表示30度0分的对数值Naplog(30)，6931472

第五列第一行，表示59度60分（60度）的对数值Naplog(60)。1438410

第四列是第三第五列的差值，

5493061 = Naplog(Napsin(30)) - Nalog(Napsin(60))

而根据数学知识可以知道，这正是正切值的纳皮尔对数。

这里需要在解释一下。三角学中有这么一条等式

cos(θ) = sin(90 - θ)

所以第六列的不仅是余角的正弦值（60度的正弦），

也是角度的余弦值。(30度的余弦)

也就是Napcos(30) = Napsin(60) =1438410

又因为第五列数值是第三列和第五列差值的绝对值

Naplog(Napsin(30)) - Napplog(Napsin(60))

= Naplog(Napsin(30) / Napcos(30))

= Naplog(Naptan(30))

这就是对数表的每一行每一列的含义。

下面我们截取30度15分那一行的表格。

同样Python代码编写计算，验证一下表格中的内容。

我们可以看到这个计算的结果与表格中的内容是一致的。

难以想象，纳皮尔最开始对于对数的定义完全不依赖自然对数，指数函数，微积分等数学概念

但是他给出的定义又是如此的简洁明了

这个表格也是准确清楚的。真不知道他是如何坚持下去的。

好了，到此为止第3章的内容就讲完了，

我们也终于解决了我们最开始的那一个问题，如何看懂这一由纳皮尔创造的对数表。

在这本对数的说明书上。作者还有两个章节，第4章第5章。

第四章 《考虑表格的用途以及表格中的数字》

第五章 《关于对数的最充分使用及其权宜实践》

这两个章节充满了以文本形式描述的命题推论以及作者所发现的一些有趣的特性。

章节里面的内容有表述不清楚的地方，让人难以理解。

有些地方甚至还有错误。

我没有阅读完，也没有完全理解这两个章节的内容，

加上视频文案写到这里，对于我来说已经足够长足够多内容了

我就不带着大家继续深入这两个章节的内容了。大家感兴趣可以自行阅读。

我这里就结合书中的命题，讲解例子。

例子1：考虑等比数列{10^7, 7071068, x}，其中x是未知的。

我们需要求解x的值。

根据书中定理我们可以知道，对等比数列取对数可以获得等差数列。

查表：Naplog(10^7) = 0 , Naplog(7071068) = 3465736

所以，Naplog(x) = 3465736 * 2 - 0 = 6931472

6931472 查表可以知道是 x = 5000000

于是我们就知道了等比数列为{10^7, 7071068, 5000000}

让我们验证一下。

10^7 / 7071068 = 1.414213524746191

7071068 / 5000000 = 1.4142136

我们可以看到精度还是挺高的。并且，我们可以使用加减代替乘除。

原本我们需要求前两项的比例，这需要一次除法，

然后计算第三项的时候又需要一次除法。

现在我们只需要通过查表，确定前两项对数，一次乘以2（也可算一次加法）

在通过一次查表，就可以得到第三项的值了。

这三个数作者十分偏爱。在著作的多个例子中出现。

10^7 其实是90度角的正弦值, sin(90) = 1

7071068, 其实是45度角的正弦值,sin(45) = 2^(1/2) / 2 = 0.7071068

5000000，其实是30度角的正弦值,sin(30) = 0.5

他们是公比为2^(1/2)的等比数列。

到这里，我们大致领略了纳皮尔的思想内涵。这个视频也该进入尾声了。

我原本是有打算讲讲由作者儿子整理出版的第2本书，

在那本书中介绍了是如何构造对数表的。

正如我视频开头所说的那样，是否好奇作者是如何构造的呢？

我还是很好奇的，不过受限于时间精力等等各方面的因素，

我这里已经没有体力。再去阅读这一本，并且将它制作成素材放到这一个视频了。

我也很庆幸有这么一个活动，能够让我尝试去了解这些内容。

在不断写文案的过程中，我不停地思考思考那时候的人会怎么想以及可能的原因。

这种剥丝抽茧，有着侦探解密般的乐趣，

我已经很久没有感受到了。

还记得我第一次看表格，与原文进行对照阅读，由于忽略了左上角角度的信息

导致始终无法对应上，这种困苦打扰了我。

而当我意识到以后，第一次，我竟然能找到对应关系，那种喜悦和满足感

让我兴奋地的挥了三拳。哈哈

这之后不断对照着表格，对照着原文，对照着代码，对照着数学知识联系起来

最终，还是多多少少理解了些。

以后如果有机会的话，我将继续讲讲纳皮尔对数的故事。

今天，我们很多的科学公式背后，都能看到对数的影子。

这都要感谢前人不停的探索。

各位有志青年，加油。说不定在我们之中就有这么一位

偶然间将两种东西联系起来，就解决了我们还未解决的问题。

好了，各位，江湖再见，祝大家新年快乐，万事如意，身体健康，阖家幸福。